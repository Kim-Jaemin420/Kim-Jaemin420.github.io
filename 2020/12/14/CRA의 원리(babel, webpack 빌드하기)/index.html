<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>CRA의 원리(babel, webpack 빌드하기) | Jaime's blog</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/normalize.css/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/clipboard/dist/clipboard.min.js"></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.css"><meta name="generator" content="Hexo 5.0.2"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">CRA의 원리(babel, webpack 빌드하기)</h1><a id="logo" href="/.">Jaime's blog</a><p class="description">Front end engineer</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/about/"><i class="fa fa-user"> About</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">CRA의 원리(babel, webpack 빌드하기)</h1><div class="post-meta">2020-12-14<span> | </span><span class="category"><a href="/categories/react/">react</a></span></div><div class="post-content"><h1 id="CRA의-원리-babel-webpack-빌드하기"><a href="#CRA의-원리-babel-webpack-빌드하기" class="headerlink" title="CRA의 원리(babel, webpack 빌드하기)"></a>CRA의 원리(babel, webpack 빌드하기)</h1><p><em>이 글은 제로초님의 웹 게임 강좌를 듣고 정리한 글입니다.</em> </p>
<p>react 프로젝트를 시작할 때 가장 편리한 방법인 create-react-app이 어떻게 동작하는지에 대해서 알아보자.</p>
<p>CRA로 react를 시작하면 온전히 react의 문법에 집중할 수 도 있겠지만 webpack같은 번들링 도구들이 어떻게 동작하는지에 대해서는 알 수 없다. 따라서 오늘은 CRA 없이 손수 프로젝트를 만들면서 어떤 방식으로 react 프로젝트가 생성되는지 배워봅시다.</p>
<p>먼저, 웹 게임을 react로 만들어볼 예정이기 때문에 웹 게임 폴더를 생성한다.</p>
<blockquote>
<p>react-webgame &gt; lecture + 1.구구단 + 2.끝말잇기 + 3.숫자야구…</p>
</blockquote>
<img width="258" alt="스크린샷 2020-12-13 오후 8 18 47" src="https://user-images.githubusercontent.com/61978339/102010266-6b493480-3d80-11eb-8050-45a7d8ebeea3.png">
(이해를 돕기위한 파일 구조)

<p>우리는 lecture 폴더 안의 index.html안에서 여러 가지 컴포넌트를 작성하고 랜더링하는 방식을 취했었다. 그런데, 이러한 방법은 컴포넌트 수가 늘어나면 유지 보수가 불가능에 가까워진다. 따라서 컴포넌트를 분리할 필요가 생겼다. 이렇게 분리한 여러 개의 자바스크립트 파일을 webpack이라는 도구로 하나의 자바스크립트 파일로 번들링할 수 있게 되었다. 파일을 하나로 합치게 되면서 바벨을 사용할 수 도 있게 되었고 반복되는 코드도 삭제할 수 있게 되었다. </p>
<p>webpack을 사용하려면 node를 알아야 한다. 많이 오해하는 것들 중 하나가 node를 서버라고 생각한다. node는 서버가 아니라 자바스크립트 실행기일 뿐이다. 자바스크립트인 webpack을 실행하려면 자바스크립트 실행기인 node가 필요하다. </p>
<h2 id="npm-init"><a href="#npm-init" class="headerlink" title="npm init"></a>npm init</h2><p>node를 설치하고 npm init을 구동해보자. </p>
<blockquote>
<p>$ npm init -y</p>
<p>npm = Node Package Manager</p>
<p>말 그대로 node의 패키지를 관리해주는 매니저이다. npm init을 하면 딸려오는 package.json 파일에 패키지에 대한 정보가 담겨있다.</p>
</blockquote>
<p>우리는 react를 사용할 예정이기 떄문에 react와 react dom을 설치한다.</p>
<blockquote>
<p>$ npm install react react-dom</p>
</blockquote>
<p>설치가 완료되면 package.json에 바로 반영되는 것을 알 수 있다.</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;lecture&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;1.0.0&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;description&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;main&quot;</span>: <span class="string">&quot;index.js&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;test&quot;</span>: <span class="string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;keywords&quot;</span>: [],</span><br><span class="line">  <span class="attr">&quot;author&quot;</span>: <span class="string">&quot;jaimejam&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;license&quot;</span>: <span class="string">&quot;MIT&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;react&quot;</span>: <span class="string">&quot;^17.0.1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;react-dom&quot;</span>: <span class="string">&quot;^17.0.1&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>webpack도 설치해보자.</p>
<blockquote>
<p>$ npm install -D webpack webpack-cli</p>
</blockquote>
<p>-D는 개발용으로만 쓰겠다는 뜻이다. webpack은 실서비스에서는 사용하지 않고 개발용으로만 사용하기 때문에 -D 써서 설치해준다.</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;lecture&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;1.0.0&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;description&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;main&quot;</span>: <span class="string">&quot;index.js&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;test&quot;</span>: <span class="string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;keywords&quot;</span>: [],</span><br><span class="line">  <span class="attr">&quot;author&quot;</span>: <span class="string">&quot;jaimejam&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;license&quot;</span>: <span class="string">&quot;MIT&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;react&quot;</span>: <span class="string">&quot;^17.0.1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;react-dom&quot;</span>: <span class="string">&quot;^17.0.1&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;webpack&quot;</span>: <span class="string">&quot;^5.10.1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;webpack-cli&quot;</span>: <span class="string">&quot;^4.2.0&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>devDependencies에 포함된 것들은 개발용으로만 설치된것들이고, dependencies는 실서비스에서도 사용될 것들이 들어가 있다.</p>
<h2 id="webpack-config-js-amp-client-jsx-파일-생성"><a href="#webpack-config-js-amp-client-jsx-파일-생성" class="headerlink" title="webpack.config.js &amp; client.jsx 파일 생성"></a>webpack.config.js &amp; client.jsx 파일 생성</h2><p>lecture 폴더에 <strong>webpack.config.js</strong> 라는 파일을 생성해준 후, 다음 코드를 작성한다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;&#125;;</span><br></pre></td></tr></table></figure>



<p>또, <strong>client.jsx</strong> 라는 파일 생성한 후, 다음 코드를 작성한다. 확장자 이름이 jsx인 이유는 해당 파일에 jsx 문법을 쓴다면 확장자 이름을 jsx라고 해주는 것이 좋다.(굳이 파일을 확인하지 않아도 이 파일이 react 파일인 것을 알 수 있기 때문)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// npm으로 설치한 react와 react dom을 불러온다.</span></span><br><span class="line"><span class="keyword">const</span> React = <span class="built_in">require</span>(<span class="string">&#x27;react&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> ReactDom = <span class="built_in">require</span>(<span class="string">&#x27;react-dom&#x27;</span>);</span><br><span class="line"></span><br><span class="line">ReactDom.render(<span class="xml"><span class="tag">&lt;<span class="name">WordRelay</span> /&gt;</span></span>, <span class="built_in">document</span>.querySelector(<span class="string">&#x27;#root&#x27;</span>));</span><br></pre></td></tr></table></figure>

<p>npm으로 설치한 react와 react dom을 불러오게 되면, CDN으로 파일(react, babel)을 불러오지 않아도 된다.</p>
<p>lecture 디렉토리 안의 index.html로 가보자.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;ko&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>끝말잇기<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./dist/app.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>불러온 CDN을 모두 지우고 app.js파일 하나만 불러온다. 이 app.js가 바로 우리가 필요한 여러 개의 자바스크립트 파일을 하나로 합친 파일이 될 것이다.</p>
<p>파일을 분리할 때 주의할 점은, 필요한 패키지나 라이브러리를 항상 불러와야한다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// wordRelay.js</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 필요한 패키지인 React 불러오기</span></span><br><span class="line"><span class="keyword">const</span> React = <span class="built_in">require</span>(<span class="string">&#x27;react&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; Component &#125; = React;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WordRelay</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    text: <span class="string">&#x27;Hello webpack&#x27;</span>,</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;this.state.text&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 다른 파일에서 불러올 수 있도록 내보내주는 것도 잊지말기</span></span><br><span class="line">modult.exports = WordRelay;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// client.jsx</span></span><br><span class="line"><span class="keyword">const</span> React = <span class="built_in">require</span>(<span class="string">&#x27;react&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> ReactDom = <span class="built_in">require</span>(<span class="string">&#x27;react-dom&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 쓰고싶은 js 파일만 불러올 수 있다.</span></span><br><span class="line"><span class="keyword">const</span> WordRelay = <span class="built_in">require</span>(<span class="string">&#x27;./WordRelay&#x27;</span>);</span><br><span class="line"></span><br><span class="line">ReactDom.render(<span class="xml"><span class="tag">&lt;<span class="name">WordRelay</span> /&gt;</span></span>, <span class="built_in">document</span>.querySelector(<span class="string">&#x27;#root&#x27;</span>));</span><br></pre></td></tr></table></figure>

<p>이제 이 두개의 파일(client.jsx &amp; wordRelay.js)을 webpack을 사용해서 하나의 파일인 app.js로 합쳐보자. </p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// node에서 path를 가져온다.</span></span><br><span class="line">const path = require(&#x27;path&#x27;);</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">  name: &#x27;wordrelay-setting&#x27;,</span><br><span class="line">  <span class="comment">// 실서비스는 production이라고 해준다. 지금은 개발용</span></span><br><span class="line">  mode: &#x27;development&#x27;,</span><br><span class="line">  <span class="comment">// eval = 빠르게 하겠다</span></span><br><span class="line">  devtool: &#x27;eval&#x27;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 입력(제일 중요)</span></span><br><span class="line">  entry: &#123;</span><br><span class="line">    app: [&#x27;./client.jsx&#x27;, &#x27;wordRelay.js&#x27;],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 출력(제일 중요)</span></span><br><span class="line">  output: &#123;</span><br><span class="line">    <span class="comment">// path.join : 경로 합치기 (현재폴더경로, 현재 폴더안의 dist)</span></span><br><span class="line">    path: path.join(__dirname, &#x27;dist&#x27;),</span><br><span class="line">    filename: &#x27;app.js&#x27;</span><br><span class="line">  &#125;.</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>입력 = 두개의 파일 , 출력 = app.js (두 개의 파일을 하나의 파일로 합치겠다.) 그런데, client에서 wordRelay를 불러오기 때문에 client.jsx만 작성해도 된다. </p>
<p>추가적으로 resolve를 작성한다면 entry에서 파일 확장자 이름을 생략해도 된다. </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  name: <span class="string">&#x27;wordrelay-setting&#x27;</span>,</span><br><span class="line">  <span class="comment">// 실서비스는 production이라고 해준다.</span></span><br><span class="line">  mode: <span class="string">&#x27;development&#x27;</span>,</span><br><span class="line">  devtool: <span class="string">&#x27;eval&#x27;</span>,</span><br><span class="line">  resolve: &#123;</span><br><span class="line">    extensions: [<span class="string">&#x27;.jsx&#x27;</span>, <span class="string">&#x27;.js&#x27;</span>]</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  entry: &#123;</span><br><span class="line">    app: [<span class="string">&#x27;./client&#x27;</span>],</span><br><span class="line">  &#125;,</span><br><span class="line">    </span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.join(__dirname, <span class="string">&#x27;dist&#x27;</span>),</span><br><span class="line">    filename: <span class="string">&#x27;app.js&#x27;</span></span><br><span class="line">  &#125;.</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>extensions에 사용할 파일의 확장자명을 적어주면 webpack이 알아서 파일을 찾아준다.</p>
<h2 id="babel-설치"><a href="#babel-설치" class="headerlink" title="babel 설치"></a>babel 설치</h2><p>이제 terminal에 <code>npx webpack</code>만 입력하면 합쳐진다. dist폴더 아래에 app.js가 생긴다. 이제, index.html을 열면 에러가 있다.</p>
<img width="555" alt="스크린샷 2020-12-13 오후 8 45 26" src="https://user-images.githubusercontent.com/61978339/102010867-258e6b00-3d84-11eb-87cb-52271289d11e.png">

<p>jsx 문법을 이해하지 못한다고 하는데, 바벨을 설치하지 않아서 그렇다. 바벨 설치해주자.</p>
<blockquote>
<p> 바벨의 기본 기능 설치</p>
<p>$ npm i -D @babel/core</p>
</blockquote>
<blockquote>
<p> 최신 문법 js를 다운그레이드 시켜주는 기능</p>
<p>$ npm i -D @babel/preset-env</p>
</blockquote>
<blockquote>
<p>jsx 변환해주는 기능</p>
<p>$ npm i -D @babel/preset-react</p>
</blockquote>
<blockquote>
<p>바벨과 webpack 연결해주는 기능</p>
<p>$ npm i -D babel-loader</p>
</blockquote>
<p>바벨은 개발할 때만 필요하므로 -D로 설치</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// module을 추가해준다.</span></span><br><span class="line"><span class="comment">// entry에서 입력을 받아서 module을 적용한 후, output으로 보내겠다는 의미이다.</span></span><br><span class="line">module: &#123;</span><br><span class="line">  rules: [&#123;</span><br><span class="line">    <span class="comment">// js 파일과 jsx 파일에 적용하겠다. 어떤 것을? babel-loader를</span></span><br><span class="line">    test: /\.jsx?/,</span><br><span class="line">    <span class="comment">// babel=loader : 최신 문법을 다운그레이드</span></span><br><span class="line">    loader: &#x27;babel-loader&#x27;,</span><br><span class="line">    <span class="comment">// babel의 옵션들</span></span><br><span class="line">        options: &#123;</span><br><span class="line">          presets: [&#x27;@babel/preset-env&#x27;, &#x27;@babel/preset-react&#x27;],</span><br><span class="line">      <span class="comment">// class 문법을 사용하기 위해 추가해주었다.</span></span><br><span class="line">         plugins: [&quot;@babel/plugin-proposal-class-properties&quot;],</span><br><span class="line">            &#125;,</span><br><span class="line">  &#125;],</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>이제 <code>npx webpack</code>해주면 진짜 끝! app.js 파일을 들어가보면 내가 작성하지 않은 코드들이 있는 것을 알 수 있다.</p>
<img width="516" alt="스크린샷 2020-12-14 오전 10 30 10" src="https://user-images.githubusercontent.com/61978339/102030780-5b206c00-3df7-11eb-9d60-d77d2006bd0e.png">

<p>index.html을 live server로 구동하면 WordRelay.js에서 react로 만든 태그가 짠하고 나타난다.</p>
<img width="238" alt="스크린샷 2020-12-14 오전 10 39 13" src="https://user-images.githubusercontent.com/61978339/102031203-9cfde200-3df8-11eb-9fe8-e2f59f1faaa7.png">

<p>이것이 바로 웹팩을 사용하는 이유다!</p>
<h2 id="참고로-알아야-할-webpack-지식"><a href="#참고로-알아야-할-webpack-지식" class="headerlink" title="참고로 알아야 할 webpack 지식"></a>참고로 알아야 할 webpack 지식</h2><p>webpack.config.js에서 모듈의 babel-loader 설정에서 presetsd와 plugins에 대해서 추가적으로 살펴보자.</p>
<p>presets는 plugin들의 모임이다. 여러 개의 plugin들을 preset이라고 한다. 여러 개의 플러그들의 모임이다 보니 하나의 preset이더라도 그 안에서 설정해주어야 하는 것들이 있다.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">module: &#123;</span><br><span class="line">  rules: [&#123;</span><br><span class="line">    test: /\.jsx?/,</span><br><span class="line">    loader: &#x27;babel-loader&#x27;,</span><br><span class="line">    options: &#123;</span><br><span class="line">      presets: [</span><br><span class="line">        [&#x27;@babel/preset-env&#x27;, &#123;</span><br><span class="line">          targets: &#123;</span><br><span class="line">            browsers: [&#x27;last 2 chrome versions&#x27;],</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;],</span><br><span class="line">        [&#x27;@babel/preset-react&#x27;],</span><br><span class="line">      ],</span><br><span class="line">      plugins: [&quot;@babel/plugin-proposal-class-properties&quot;],</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;],</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>preset-env가 최신 자바스크립트 문법을 여러 브라우저에서 호환가능 하도록 다운그레이드 시켜주는 기능이었는데 이를 구체화해서 적용할 수 도 있다.</p>
<p>target을 설정해서 위 코드처럼 <code>browsers: [&#39;last 2 chrome versions&#39;]</code>이렇게 작성한다면 IE 지원 하지 않고, 크롬 최신 2개 버전만 지원하도록 설정한 것이다. 이걸 설정해주는것이 중요한데, 왜냐하면 더 옛날 문법으로 변환할수록 바벨이 할일이 많아져 더 느려질 수 있기 때문이다.</p>
<p>이 target에 어떤 걸 적어야 하는지 알려주는 페이지가 있다.</p>
<blockquote>
<p><a href="https://github.com/browserslist/browserslist">https://github.com/browserslist/browserslist</a></p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&quot;browserslist&quot;: [</span><br><span class="line">  &quot;last 1 version&quot;,</span><br><span class="line">  <span class="comment">// 세계 브라우저 점유율 1%이상 인것만 설정</span></span><br><span class="line">  &quot;&gt; 1%&quot;,</span><br><span class="line">  <span class="comment">// 나라 이름을 설정해주는 것도 가능하다.</span></span><br><span class="line">  <span class="string">&quot;&gt; 5% in KR&quot;</span></span><br><span class="line">  &quot;IE 10&quot;,</span><br><span class="line">  <span class="comment">// 죽지 않은 브라우저 모두 지원</span></span><br><span class="line">  <span class="string">&quot;not dead&quot;</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>



<p>또 하나 알아야할 것이 있는데, 바로 plugins다. webpack에서 babel-loader에도 plugins가 들어가 있지만 웹팩에서 기본적으로 합쳐주는 module 이외에 추가적으로 설치하고 싶은게 있다면 plugins을 또 사용할 수 있다. plugin은 그냥 확장 프로그램이다 라고 이해해도 좋다.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">  module: &#123;</span><br><span class="line">    rules: </span><br><span class="line">    [&#123;</span><br><span class="line">      test: /\.jsx?/,</span><br><span class="line">      loader: &#x27;babel-loader&#x27;,</span><br><span class="line">      options: &#123;</span><br><span class="line">        presets: [</span><br><span class="line">          [&#x27;@babel/preset-env&#x27;, &#123;</span><br><span class="line">            targets: &#123;</span><br><span class="line">              browsers: [&#x27;last 2 chrome versions&#x27;],</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;],</span><br><span class="line">          [&#x27;@babel/preset-react&#x27;],</span><br><span class="line">        ],</span><br><span class="line">        plugins: [&quot;@babel/plugin-proposal-class-properties&quot;],</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;],</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">plugins: </span><br><span class="line">    [</span><br><span class="line">      new webpack.LoaderOptionsPlugin(&#123; debug: true&#125;),</span><br><span class="line">    ],</span><br></pre></td></tr></table></figure>

<p>실무에서는 이 플러그인에 10줄정도 들어가있는 코드를 만나게 될 수 있다. 그럴때엔 최소한의 플러그인들만 남겨놓고(rules도 최소한의 것만 다 남긴다.) 지운 후에 에러 코드가 필요하다고 하는 것들을 추가하면서 각각의 것들이 왜 필요한지 알아가는 것이 좋다.</p>
</div><div class="tags"><a href="/tags/react/"><i class="fa fa-tag"></i>react</a></div><div class="post-nav"><a class="next" href="/2020/11/26/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A43/">데이터 베이스 Functions</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="https://github.com/Kim-Jaemin420/Kim-Jaemin420.github.io.git"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/css/">css</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/html-css/">html & css</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/react/">react</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0%EC%99%80-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98/">자료구조와 알고리즘</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%EC%BB%B4%ED%93%A8%ED%84%B0-%EA%B3%B5%ED%95%99-%EA%B8%B0%EB%B3%B8-%EC%A7%80%EC%8B%9D/">컴퓨터 공학 기본 지식</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/js/" style="font-size: 15px;">js</a> <a href="/tags/%EA%B8%B0%EC%B4%88-%EC%A7%80%EC%8B%9D/" style="font-size: 15px;">기초 지식</a> <a href="/tags/css/" style="font-size: 15px;">css</a> <a href="/tags/react/" style="font-size: 15px;">react</a> <a href="/tags/html/" style="font-size: 15px;">html</a> <a href="/tags/%EA%B8%B0%EC%B4%88%EC%A7%80%EC%8B%9D/" style="font-size: 15px;">기초지식</a> <a href="/tags/branch/" style="font-size: 15px;">branch</a> <a href="/tags/web-font/" style="font-size: 15px;">web font</a> <a href="/tags/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0%EC%99%80-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98/" style="font-size: 15px;">자료구조와 알고리즘</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2020/12/14/CRA%EC%9D%98%20%EC%9B%90%EB%A6%AC(babel,%20webpack%20%EB%B9%8C%EB%93%9C%ED%95%98%EA%B8%B0)/">CRA의 원리(babel, webpack 빌드하기)</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/11/26/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A43/">데이터 베이스 Functions</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/11/23/Mysql%20%EC%B2%AB%20%EC%88%98%EC%97%85%20%EC%A0%95%EB%A6%AC/">Mysql 첫 수업 정리</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/11/12/%EC%BF%A0%ED%82%A4%EC%99%80%20%EC%84%B8%EC%85%98%20%EA%B0%9C%EB%85%90/">쿠키와 세션 개념</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/11/11/ajax%EB%A5%BC%20%EC%82%AC%EC%9A%A9%ED%95%B4%EC%84%9C%20todo-list%20%EB%AA%A9%EB%A1%9D%20%EC%B6%94%EA%B0%80:%EC%82%AD%EC%A0%9C:%EB%B3%80%EA%B2%BD%ED%95%98%EA%B8%B0/">ajax를 사용해서 todo-list 목록 추가:삭제:변경하기</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/11/10/SPA(Single%20Page%20Application)/">SPA(Single Page Application)</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/10/29/SignUpForm/">SignUpForm</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/10/28/checkbox/">checkbox</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/10/28/IINDEX/">IINDEX</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/10/26/app/">app</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Links</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2020 <a href="/." rel="nofollow">Jaime's blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js" successtext="Copy Successed!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>